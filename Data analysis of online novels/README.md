# 热门小说数据分析——以晋江文学城榜单为例

## 1 引言

### 1.1 研究背景

网络小说作为新兴文学形式，凭借其便捷的传播方式和丰富的内容类型，迅速在文学市场中占据一席之地。近年来，随着互联网技术的不断进步和人们阅读习惯的转变，网络小说的受众群体不断扩大，市场规模持续增长，成为文学创作和消费的重要领域。

读者对网络小说的需求日益多样化，不再局限于传统的小说类型，而是对各种新颖、独特的题材和风格表现出浓厚兴趣。他们追求个性化、情感化、娱乐化的阅读体验，希望在小说中找到与自己情感共鸣的故事，或是获得知识、启发和乐趣。同时，不同年龄、性别、职业等背景的读者群体，对小说的喜好也存在明显差异，这促使网络小说市场不断细分和创新。

而对于作者来说，如何在众多竞争者中脱颖而出，创作出符合市场需求、具有独特魅力的小说作品，是他们面临的主要挑战。网络小说的繁荣为他们提供了更多的创作机会和展示平台，使他们能够通过作品获得更多的关注和收入。对于出版商而言，如何精准把握市场趋势，发掘和培养优秀的网络小说作家，以及如何有效地推广和营销小说作品，是他们需要解决的关键问题。此外，网络小说平台也面临着如何提升用户体验、吸引和留住用户、实现盈利等多重挑战，但同时也存在着巨大的发展潜力和商业价值。

得益于数字技术的广泛应用，大量小说的相关数据被记录和保存下来，这些数据为深入分析小说的属性和读者行为提供了可能。通过对这些数据的挖掘和分析，可以获取关于网络小说市场的规律和趋势，从而更好的指导创作、营销和推广等决策。

### 1.2 研究意义

通过对网络小说相关的大量数据进行深入分析，可以为作者、出版商和平台方等市场参与者提供有力的决策支持。例如，分析读者对不同类型小说的喜好数据，可以帮助作者确定创作方向，选择更受欢迎的小说类型和题材；分析小说的热度和评分数据，可以为出版商提供选书和推广的依据，使他们能够更有针对性地选择具有潜力的小说作品进行出版和宣传。

数据分析能够揭示网络小说市场的规律和趋势，使市场参与者能够提前洞察市场的发展方向和变化趋势。例如，通过分析小说的类型分布、标签热度、作家作品等数据，可以发现哪些类型的小说正在流行或即将流行，哪些作家具有较高的创作潜力和市场影响力，从而为市场参与者制定相应的市场策略和应对措施提供参考。同时，数据分析还可以帮助预测未来的市场需求，使市场参与者能够更好地把握市场机遇，提前做好准备。

数据分析还可以为网络小说的创作和营销提供优化建议。例如，分析小说的特征因素对总分的影响，可以帮助作者了解哪些因素更容易获得读者的喜爱和高分评价，从而在创作过程中注重这些因素的运用和表现。 

### 1.3研究方法

1. 数据爬取。由于网络上并没有现成的网络小说榜单数据，需利用python的相关库和函数进行网络爬虫来爬取数据。
2. 数据可视化方面，充分利用便捷工具，使用DataEase和matplotlib相结合的方式，来更好更全面的可视化数据。
3. 利用关联规则Apriori算法，分析不同类型与热度程度之间的关联关系，为小说的联合推广、新手作家尝试热门风格定位等提供更精确的依据。
4. 学习Jieba分词、随机森林模型和SHAP特征重要性分析工具，综合处理数据，分析小说总分的特征影响因素。
5. 数据大屏制作，利用JavaScript、Echarts等工具，编写网页制作的前端程序，依据前边的数据分析和图表数据，绘制出可视化大屏。

## 2 数据分析

### 2.1 数据来源

本项目选择晋江文学城作为主要的数据来源，这是因为晋江文学城是女性向网络小说的龙头企业之一，其数据具有较高的代表性和权威性。晋江文学城的榜单分类清晰，上榜的小说数量相对较多，且容易爬取，能够为数据分析提供丰富而可靠的数据基础。相比之下，起点中文网和番茄小说等其他平台的榜单数据存在分类不清晰、数据量较少等问题，不太适合进行深入的数据分析。本项目主要选取了总分榜单作为示例数据进行主要的优秀小说洞察分析。数据更新截止到2024年12月26日。

https://www.jjwxc.net/topten.php?orderstr=7&t=2

### 2.2 数据采集

利用requests库发送HTTP请求，结合lxml库中的etree用于解析HTML页面来提取晋江文学城总分榜中的小说信息。本次实践共爬取了200本小说的信息，包括书名、作者、类型、简介等。

数据爬取代码文件：[crawl.py](code/crawl.py)

### 2.3 数据清洗

经爬虫后获得的数据均为文本类型，为后续数据可视化、数据分析方便，先利用python将字数、积分转换为数值型，将时间转换为时间型，最终得到一个结构化的数据表格文件，方便后续分析小说和读者行为，使结果更加准确可靠。

数据清洗代码文件：[clean.py](code/clean.py)

最终得到总数据的表格文件：[data.xlsx](code/data/data.xlsx)/[data.csv](code/data/data.csv)

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps1.jpg) 

### 2.4 数据分析与可视化

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps2.jpg) 

数据分析代码文件：[analyse.ipynb](code/analyse.ipynb)

数据大屏网页：[数据大屏](file:///D:\HuaweiMoveData\Users\18336\Desktop\HW\html\index.html)

#### 2.4.1整体概览

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps3.jpg) 

由整体概览的图像可知，所有上榜小说均为原创作品，原创性达到了100%，这表明晋江文学城平台对原创作品的支持和鼓励，以及读者对原创小说的高度认可和喜爱。其中，“纯爱”类型的小说占比非常大，70%的小说均为此性向，意味着在200本上榜小说中有140本均为性向为纯爱的小说。这反映出在晋江文学城平台上，纯爱小说具有较高的受众基础和市场热度，是当前网络小说市场中的主流类型之一。

在所有上榜小说中，作品的篇幅超过百万字的只有23%的占比，说明大部分小说的字数走在百万以内，属于短篇、中篇或中长篇的范畴。根据数据显示，总分榜上榜小说中总积分超过百亿的有88本，占比44%。高积分的小说往往具有较高的知名度和影响力，能够吸引大量的读者关注和阅读，同时也可能获得更多的推荐和曝光机会，进一步提升其市场地位和商业价值。

#### 2.4.2热门标签分析

利用python将标签列的内容进行拆分，再合并计数，取前十最大值，得到前十的热门标签柱状图。   ![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps4.jpg)



同时保持全部的标签数据，绘制了更具视觉冲击力的热门标签的词云图。

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps5.jpg) 

根据两个图像可以看到，“轻松”是最热门的标签，出现次数接近120次，远远高于其他标签，反映出在文学方面轻松风格的内容最受大众欢迎。推测可能是因为网络小说作为一种休闲娱乐的方式，让读者在休闲时感到愉悦和放松，能够缓解压力是吸引读者重要的一环。

“正剧”、“强强”、“情有独钟”、“甜文”和“爽文”标签也相对较为热门，出现次数在40次-70次之间。这些标签表明读者在“轻松”之余，也对小说的深度、张力等方面有所要求，比如“强强”标签的力量对比、强强对决等情节。“甜文”、“爽文”作为女频两种主流的分类也较为常见。

而“穿书”、“都市”、“无限流”标签相对冷门，出现次数不到20次，这些标签代表了一些比较小众和特定类型的内容，它们的受众相对较窄，但可以合理推测在喜欢这类设定的读者中会有较高的忠诚度和粘性。对于平台和作者来说，这些冷门标签的小说可能具有一定的市场潜力和开发价值，通过精准定位和创新创作，有可能吸引特定的读者群体，形成独特的市场细分领域。

#### 2.4.3作家作品分析

本部分主要分析作家的作品数量与平均作品积分之间的关系。即高产作家与优质作家的特点。高产作家通常具有丰富的创作经验和较高的创作效率，他们能够持续地产出作品，满足读者不断更新的阅读需求。而优质作家则注重作品的质量和深度，他们的作品往往具有独特的风格和思想内涵，能够给读者留下深刻的印象。在市场中，高产作家和优质作家各有优势，前者能够通过大量的作品积累人气和知名度，后者则能够凭借高质量的作品获得读者的长期关注和口碑传播。

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps6.jpg) 

如上图所示，本项目截取了上榜作品平均积分和作品数量均位于前列的前20位作家绘制成象限图。分布作家数量最多的为左下粉色部分，该部分展示了上榜作品数量相对较少，平均作品积分相对较低的作家；位于右下的蓝色部分的则是有多部作品上榜，但平均作品积分也较低的作家，即高产作家，可以合理推测位于该区域的作家很可能是专职作家，写作时间充足、产出较多，且文笔功底较好，能有多部作品上榜。其中上榜作品最多、高达九部的是木苏里老师和巫哲老师，两人对比而言，木苏里老师的平均积分要远高于巫哲老师，所以更胜一筹。

左上的黄色区域表示作品数量较少，而平均积分很高的作家，其中有桑沃老师，仅一部作品上榜但高达400亿积分，以及墨香铜臭老师，作品量虽少，但平均积分较高，反应出他们的作品具有较高的品质和市场认可度。右上的绿色部分表示高产且优质的作家区域，但很遗憾并没有作家位于该区域。

#### 2.4.4发表时间洞察

时间因素对小说市场有着重要的影响。一方面，特定的时间节点，如节假日、重大事件等，可能会引发读者对某些类型小说的需求增加，从而影响小说的热度和市场表现。另一方面，随着时间的推移，读者的阅读兴趣和审美观念也会发生变化，这要求作者和市场参与者能够及时捕捉和适应这种变化，不断推出符合时代潮流和读者需求的小说作品。

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps7.jpg) 

如上为发表年份与平均积分的双线图，绿色线代表当年小说的上榜数量，黄色线表示该年上榜小说的平均积分。可以看到，发表数量在2019、2020年达到峰值，说明这两年间发表的小说在总分榜上占据了很多位置。据此我们可以推断出，这两年发表的小说总数应该也位于峰值的位置，在大基数的小说数量下，才能有峰值数量的上榜小说，且联系实际情况，2019年、2020年正是新冠疫情刚刚爆发的两年，可以合理推测小说数量大是因为疫情期间相应政策，居家隔离，作者们有充分的时间来写作。而小说数量整体的走势是先上升后下降，在2020年后一直呈下降的趋势，联系现实，推测可能的原因是随着科学技术的进步，人们的休闲娱乐方式越发先进和多样，短视频、音视频的兴起，在网络文学本就已经发展饱和的情况下更是雪上加霜。因此新小说的产出数量随之减少，优秀小说的数量也必然不可能增加。当然，还有另一种因素在于新上榜小说可能仍处于连载阶段，受众的范围并未大幅度扩张，也许在未来几年小说宣传进步后，积分也会随之提高。

观察黄色线我们发现，在绿色线达到顶峰、小说数量最多的2019年，小说的平均积分却形成了一个低谷，平均积分较低。说明尽管在疫情期间，作家们有时间居家写作，但可能受到疫情的影响，并没有产出非常优秀的作品。而2017年平均积分达到了峰值，该年的小说总数并不多，由此我们可以推算可能是有几部非常优秀，在总分榜排名非常靠前的小说均在2017年发表。近年来的上榜小时平均积分虽不比之前，但保持在了一个相对稳定的值上，小说的数量在逐渐减少，那也说明小说的品质其实是在稳步提升，这是一个非常好的迹象。

#### 2.4.5关联规则分析小说类型与品质

关联规则是形如X→Y的蕴涵式，其中X为关联规则的前项，Y为关联规则的后项。衡量一个关联规则优劣的指标是支持度和置信度，支持度指所有事务中同时包含X、Y事务的百分比，置信度指包含X的事务中也包含Y的百分比。本项目使用Apriori算法，分析不同类型小说品质与出现频率之间的关系。

首先进一步数据处理，需要注意，本项目爬取的数据为总分榜前200名的小说，所以每部小说实际上都为“优秀”小说，但为进一步数据分析和体现差异，本项目设置“品质”列来虚拟评估小说，设榜单前100的小说为“优秀”，后100的小说为“良好”。提取总数据中的类型列和新生成的“品质”列到新表rule.xslx，进行Apriori算法分析。因为想要先获取全部组合的关联规则下的数据，再从中选取需要的内容，所以调用Apriori时将最小值设为0.01。由于Apriori算法在挖掘频繁项集的过程中会频繁的进行集合相关的操作，使用了frozenset数据类型来表示组合情况，最终生成的结果文件里antecedents和consequents都保留了该格式，所以需要进一步清洗，并根据目标，过滤掉consequents列除品质外的数据，得到[apriori_rule.xlsx](code/data/apriori_rule.xlsx)。

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps8.jpg) 

利用DataEase进行数据可视化，作不同类型小说品质与出现频率堆叠柱线组合图如下。

![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps9.jpg) 

图中蓝色柱、绿色柱分别代表“优秀”、“良好”品质在不同类型下的置信度，橙色折线代表不同小说类型的支持度，即出现的频率。根据图像可以看到，“良好”品质的小说类型要远多于“优秀”品质，说明“良好”品质的小说类型较为丰富，各类型的小说均有出彩的书籍上榜。但主要出现在“良好”品质中的小说类型橙色折线走势低迷，说明这些小说类型出现的频率较低，总体的小说数量较少。同样的，集中出现“优秀”品质的小说类型包括“原创-纯爱-幻想未来-传奇”、“原创-纯爱-幻想未来-剧情”和“原创-纯爱-近代现代-悬疑”出现频率也十分低，可以合理推测该类型的上榜小说品质远高于同类型的其他小说，推测这些类型的小说受众相对较窄或数量相对较少，但读者粘性较强。

而处于橙色折线的几个峰值的类型，“原创-纯爱-架空历史”、“原创-纯爱-近代现代-爱情”和“原创-言情-近代现代-爱情”，它们的“优秀”和“良好”占比相对较为均衡，其中“原创-纯爱-近代现代-爱情”类型尤其突出，且“优秀”品质的占比高于“良好”品质，说明该类型的小说在榜单上不仅数量众多，而且位居前列，是非常热门且容易上榜的小说类型。并且对比“原创-言情-近代现代-爱情”类型，“纯爱”类型的小说“优秀”品质更高、出现频率更高，说明在晋江的平台上，榜单前列同是“原创-近代现代-爱情”类的纯爱小说的占比和热度要高于言情小说。

#### 2.4.6 SHAP特征重要性分析

由于我们爬取的数据大部分为文本的非结构化数据，为使用上述算法来进行特征分析，需将这些数据转化为结构化数据再进行下一步分析，所以引入分词，从词出发准确反映语义信息。项目中采用了python中使用广泛的Jieba分词工具，选用其精确模式，非常适合文本分析的场景；随机森林是一种基于多棵决策树的集成学习算法，它通过构建多个决策树，并综合这些决策树的预测结果来进行最终的决策，而并非依赖单棵树的输出；SHAP是一种模型事后解释方法，核心思想是计算特征对模型输出的边际贡献，SHAP构建一个加性的解释模型，将所有的特征都视为“贡献者”，来解释随机森林模型各个特征对最终目标（积分）的影响情况。![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps10.jpg)![img](file:///C:\Users\18336\AppData\Local\Temp\ksohtml28544\wps11.jpg)

如上两图，左图为以['书名', '作者', '类型', '标签']为特征值进行分析，右图以['书名', '作者', '类型', '标签','简介']为特征值进行分析，即右图将简介也作为总分得分的特征进行分析。

SHAP模型输出的可视化图中红色特征使得预测值更大，蓝色特征使预测值变小，紫色邻近均值；颜色区域宽度越大，说明该特征的影响越大。由此观察上左图可以看到，红色区域宽度大的主要有纯爱、轻松、现代、强强等，这也与我们前边的分析相吻合，这些特征都是影响总分高低的重要因素。另外，能够看到“木苏里”这一特征遥遥领先，说明该作者的几部作品都位于榜单前列，总积分非常高，侧面反映出她的文学创作水平和受欢迎度极高；类似的作者还有图中出现的“酱子贝”和“稚楚”。《天官赐福》作为总分榜榜单第一，且总积分为近700亿，领先第二名《某某》将近三百亿，也成为了重要的特征因素。但在右图中，加上简介这一特征因素之后，涉及到具体的作家或作品只剩下了“木苏里”，说明综合考虑之后只有该作家有很强的影响力。

在上左图中还能综合看出标签、主题综合而言对于总分的影响。如带有“悬疑”、“强强”等标签的作品对于总分的重要性较高，说明创作这方面的小说容易获得高分，当然，也有可能是由于这些类型的小说数量相对较少，所以写作这类的优质小说很容易脱颖而出。而在上右图中，标签、主题出现的次数减少，而一些常写在简介中的描述小说特点的词语脱颖而出，如“he”、“原型”（推测是‘无原型’，由于分词导致语义分期）等，以及“实体书”，推测是小说积累了一定名气和积分后出版成实体书，进一步扩大了曝光度，吸引了更多读者，推动积分的上升。

## 3 总结

### 3.1 反思与改进

回顾本次实践，仍有多处不足，需要进一步完善和改进：

1.数据量较小。尽管选取的晋江文学城的榜单数据量已经是相比其他平台最多的了，但仍然只有200的数据量，对于后续更进一步的学习、预测等支撑能力不足。

2.选取、应用更多的算法和模型。本次实践中主要用到的分析算法只有关联规则分析的Apriori算法和SHAP分析，相对较为单薄。在以后的改进和完善中可以考虑加入NLP相关的内容，引入Bert模型，通过数据来进一步微调训练模型，实现标签、主题等的学习和预测。

3.进一步丰富可视化大屏。本次实践最终只形成了一个数据大屏的网页，且其中的进行交互的内容较少。未来可以考虑增加几个不同的页面来更好更详细地展现数据分析的内容，同时可以考虑增添交互，比如将第二点提到的Bert模型预测做成小窗加入到大屏网页中，提高浏览者的参与感。

### 3.2 总结与收获

在本次实践中，运用了很多课程上介绍的内容，也学到了很多别的知识。从一开始确定选题，对比不同的网络文学平台来寻找最优的数据，跟随网上的博客文章的分享进行数据的爬取，对于网页的信息过滤和获取有了更深刻的认识。得到数据集后寻找角度分析数据，同时也在网上查找、学习相关的分析方法，如实践中运用到的关联规则Apriori算法、SHAP分析，以及反思中的Bert模型，由于时间和数据集的限制，本次实践中并未使用预训练模型，希望在以后的项目中能够运用其中。确定分析角度后利用python的matplotlib库和DataEase进行图表的绘制，针对不同的分析角度选用多样的图表类型。完成基本内容后着手制作可视化大屏，在学习了web基础后对Echarts有了更深入的学习，根据自己的需求学习参数调整参数，最后呈现的大屏也基本符合预期，圆满完成了本次的实践。

通过本次实践，我积累了一定的数据分析经验，对网络小说市场有了更深入的了解和认识。学习和掌握了多种数据分析技术和工具的使用，培养了数据思维和分析能力，也提高了解决问题和应对挑战的能力。同时，我也认识到数据分析在实际应用中的重要性和价值，为今后的学习和工作奠定坚实的基础。
